<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cutscenes</title>
<script>
window.playCutscene = function(key){
  const canvas = document.createElement('canvas');
  canvas.width = 960; canvas.height = 720;
  document.body.appendChild(canvas);
  const ctx = canvas.getContext('2d');

  let time = 0;
  let duration = 3; // seconds per cutscene
  let messages = [];

  if(key==='golden_mantis_intro'){
    messages = ['A golden mantis appears.', 'It bows to you.'];
  } else if(key==='secret_67_intro'){
    messages = ['A golden specter emerges.', 'The air shivers with energy.'];
  } else if(key==='radiance_intro'){
    messages = ['A blinding light fills the hall.', 'The Radiance descends.'];
  }

  const bubble = document.createElement('div');
  bubble.style.position='absolute';
  bubble.style.left='50%';
  bubble.style.bottom='10%';
  bubble.style.transform='translateX(-50%)';
  bubble.style.background='#111';
  bubble.style.border='2px solid #fff';
  bubble.style.padding='10px';
  bubble.style.color='#fff';
  bubble.style.whiteSpace='pre-line';
  document.body.appendChild(bubble);

  function loop(dt){
    ctx.fillStyle='#000';
    ctx.fillRect(0,0,960,720);
    time += dt/60;
    let index = Math.floor(time) % messages.length;
    bubble.textContent = messages[index];
    if(time>duration*messages.length){
      document.body.removeChild(canvas);
      document.body.removeChild(bubble);
      return;
    }
    requestAnimationFrame(()=>loop(dt));
  }
  requestAnimationFrame(()=>loop(0));
}
</script>
</head>
<body></body>
</html>

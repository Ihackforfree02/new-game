<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Undertale Gold — sans-like build (14 bosses + 4 admin, dialogue, equip, gated admin)</title>
<style>
:root{
  --fg:#ffd166;--hp:#ff6b6b;--emerald:#7affb7;--ui:#0b0b0b;--line:#262626;--white:#fff;
}
html,body{height:100%;margin:0;background:#000;color:var(--fg);font-family:ui-monospace,monospace;image-rendering:pixelated;overflow:hidden}
#stage{position:fixed;left:50%;top:50%;transform-origin:top left}
#wrap{position:relative;width:960px;height:720px}
canvas{display:block;width:960px;height:720px;border:4px solid #0a0a0f;background:#070606}

/* HUD */
#bossHUD{position:absolute;left:20px;top:22px;display:flex;flex-direction:column;gap:6px;z-index:3}
#bossName{font-size:13px}
#bossHP{height:10px;width:360px;background:#141414;border:1px solid #383838;position:relative}
#bossHPFill{position:absolute;left:0;top:0;bottom:0;background:var(--hp);width:100%}
#bossHPVal{font-size:12px;margin-top:2px}
#playerHUD{position:absolute;right:20px;top:22px;display:flex;flex-direction:column;gap:6px;align-items:flex-end;z-index:3}
#playerNameLabel{font-size:13px;color:#9be7c0}
#pHP{height:10px;width:220px;background:#141414;border:1px solid #383838;position:relative}
#pHPFill{position:absolute;left:0;top:0;bottom:0;background:var(--emerald);width:100%}
#pHPVal{font-size:12px;margin-top:2px}

/* Arena */
#box{position:absolute;left:240px;top:420px;width:480px;height:180px;border:3px solid #fff;display:none;z-index:1}

/* Dialogue */
#bubble{position:absolute;left:50%;bottom:136px;transform:translateX(-50%);max-width:880px;min-height:84px;display:block;z-index:4}
.bub{background:var(--ui);border:2px solid #fff;padding:10px 14px}
#bubbleText{white-space:pre-line;line-height:1.45}

/* Bottom UI */
#uiBar{position:absolute;left:50%;bottom:8px;transform:translateX(-50%);width:920px;height:116px;background:var(--ui);border:2px solid var(--line);display:flex;align-items:center;justify-content:space-between;padding:0 18px;z-index:3}
.uiMenu{display:flex;gap:36px}
.uiBtn{display:flex;align-items:center;gap:10px;cursor:pointer}
.uiKey{width:20px;height:20px;border:2px solid #fff;display:flex;align-items:center;justify-content:center;font-weight:700}
.uiLabel{font-size:20px;letter-spacing:1px}
#uiCenter{font-size:14px}
.small{font-size:12px;color:#cfd}

/* Equip overlay */
#equip{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:720px;max-width:92vw;background:#0f1020;color:#ffd166;border:2px solid #ffd166;border-radius:8px;padding:12px;display:none;z-index:20}
.eqTitle{font-size:16px;margin-bottom:8px}
.eqRow{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:8px}
.eqCard{flex:1;min-width:280px;border:1px solid #34344a;border-radius:6px;padding:8px;background:#121428}
.eqBtn{margin:4px;padding:6px 10px;background:#0f1020;color:#ffd166;border:1px solid #34344a;border-radius:6px;cursor:pointer}

/* Admin overlay (gated) */
.admin-btn{margin:4px;padding:6px 10px;background:#0f1020;color:#ffd166;border:1px solid #34344a;border-radius:6px;cursor:pointer}
.admin-sec{margin-top:14px}
.admin-label{display:inline-block;min-width:120px}
#admin{position:absolute;inset:0;background:rgba(0,0,0,0.85);color:#ffd166;display:none;z-index:30;padding:20px;overflow-y:auto}
</style>
</head>
<body>
<div id="stage"><div id="wrap">
  <!-- HUD -->
  <div id="bossHUD">
    <div id="bossName">Bone Duelist</div>
    <div id="bossHP"><div id="bossHPFill"></div></div>
    <div id="bossHPVal">000/000</div>
  </div>
  <div id="playerHUD">
    <div id="playerNameLabel">Traveler</div>
    <div id="pHP"><div id="pHPFill"></div></div>
    <div id="pHPVal">20/20</div>
  </div>

  <!-- Canvas + Arena -->
  <canvas id="cv" width="960" height="720" aria-label="Battlefield"></canvas>
  <div id="box" aria-hidden="true"></div>

  <!-- Dialogue -->
  <div id="bubble"><div class="bub"><div id="bubbleText"></div></div></div>

  <!-- Bottom UI -->
  <div id="uiBar">
    <div class="uiMenu" id="uiMenu">
      <div class="uiBtn" data-act="FIGHT"><div class="uiKey">Z</div><div class="uiLabel">FIGHT</div></div>
      <div class="uiBtn" data-act="ACT"><div class="uiKey">A</div><div class="uiLabel">ACT</div></div>
      <div class="uiBtn" data-act="EQUIP"><div class="uiKey">E</div><div class="uiLabel">EQUIP</div></div>
      <div class="uiBtn" data-act="MERCY"><div class="uiKey">M</div><div class="uiLabel">MERCY</div></div>
    </div>
    <div id="uiCenter">Your turn. Z/Enter=Fight, A=Act, E=Equip, M=Mercy. Arrows/WASD to move during attacks.</div>
    <div class="small">Tip: Press 6 then 7, three times, to unlock Admin. Tab toggles the panel after unlock.</div>
  </div>

  <!-- Equip -->
  <div id="equip">
    <div class="eqTitle">Equip — Swords & Items (free action)</div>
    <div class="eqRow">
      <div class="eqCard">
        <div><b>Swords</b></div>
        <div id="eqWeapons"></div>
      </div>
      <div class="eqCard">
        <div><b>Items</b></div>
        <div id="eqItems"></div>
      </div>
    </div>
    <div class="eqRow" style="justify-content:flex-end">
      <button class="eqBtn" id="eqClose">Close</button>
    </div>
  </div>

  <!-- Admin (gated) -->
  <div id="admin">
    <h2>⚙️ Admin Panel</h2>
    <p>Spawn bosses, tune player, equip quickly, and control attacks.</p>
    <div id="adminBossList" class="admin-sec"></div>
    <div class="admin-sec">
      <span class="admin-label">Player HP</span>
      <input id="adSetHP" type="number" min="1" max="999" value="20" style="width:80px"/>
      <button class="admin-btn" id="adApplyHP">Apply</button>
      <span class="admin-label" style="margin-left:12px">Max HP</span>
      <input id="adSetMax" type="number" min="1" max="999" value="20" style="width:80px"/>
      <button class="admin-btn" id="adApplyMax">Apply</button>
    </div>
    <div class="admin-sec">
      <label><input type="checkbox" id="adInf"/> Infinite HP</label>
      <label style="margin-left:12px"><input type="checkbox" id="adInv"/> Invincible</label>
      <span class="admin-label" style="margin-left:12px">Damage x</span>
      <input id="adDmg" type="range" min="0.5" max="3" step="0.05" value="1.00" style="vertical-align:middle"/>
      <span id="adDmgVal">1.00</span>
    </div>
    <div class="admin-sec">
      <button class="admin-btn" id="adHeal">Heal</button>
      <button class="admin-btn" id="adClear">Clear bullets</button>
      <button class="admin-btn" id="adEnd">End attack</button>
      <button class="admin-btn" id="adWin">Instant win</button>
      <button class="admin-btn" id="adStart">Start attack</button>
      <button class="admin-btn" id="adClose">Close (Tab)</button>
    </div>
    <div class="admin-sec">
      <div><b>Quick
